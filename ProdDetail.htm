<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="css/jquery.mobile-1.2.0.min.css" rel="stylesheet" type="text/css" />
    <script src="js/jquery-1.8.2.js" type="text/javascript"></script>
    <script src="js/jquery.mobile-1.2.0.js" type="text/javascript"></script>
    <script src="js/jqm.page.params.js" type="text/javascript"></script>
    <script src="js/purl.js" type="text/javascript"></script>
    <script src="js/Base64.js" type="text/javascript"></script>
    <script src="js/Globals.js" type="text/javascript"></script>
    <script src="js/ProdLineProvider.js" type="text/javascript"></script>
</head>
<body>
    <div id="pgProdDetail" data-role="page" data-theme="d">
        <div data-role="header" data-theme="b">
            <a href="index.htm" class="ui-btn-left" data-role="button" data-rel="back" data-theme="b">
                Back</a>
            <h1>
                Product Line</h1>
            <a id="lnkMyProfile" href="MyProfile.htm" data-icon="gear" class="ui-btn-right" data-theme="b">My Profile</a>
        </div>
        <div data-role="content" data-theme="d">
            <span id="lblProId"></span>
        </div>
        <script type="text/javascript">

            Globals.$CurrentPage = $("#pgProdDetail");
            Globals.$CurrentPage.off();

            function GetProductInfoCallback(data) {
                $("#lblProId", Globals.$CurrentPage[0]).text(data.ShortName);
            }
            
            Globals.$CurrentPage.on("pageshow", function () {
                Globals.AddMyProfileLinkClickHandler("#lnkMyProfile");
                
                var currentProdId = $.url().param('ProductId');
                ProdLineProvider.Product.GetProductInfoWithCallback(currentProdId, GetProductInfoCallback);
            });

        </script>
    </div>
</body>
</html>
